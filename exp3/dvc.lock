schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py data/50_Startups.csv
    deps:
    - path: data/50_Startups.csv
      hash: md5
      md5: 42b7f80d7a8d5591be8c9aa7c0022917
      size: 2386
    - path: src/prepare.py
      hash: md5
      md5: 8214d0f8e1cc85a906fd4496c38e4e88
      size: 1001
    params:
      params.yaml:
        base:
          project: startups
          data_dir: data
          file_path: 50_Startups.csv
          cat_columns:
          - State
          num_columns:
          - R&D Spend
          - Administration
          - Marketing Spend
          target_column: Profit
          model_dir: models
          model_name: startups_model2.pkl
        prepare.seed: 20170428
        prepare.split: 0.3
    outs:
    - path: data/prepared
      hash: md5
      md5: dbd36431f80401b000aa35a814ac6d1c.dir
      size: 5462
      nfiles: 4
  train:
    cmd: python src/train.py --config=params.yaml
    deps:
    - path: data/prepared/X_train.pkl
      hash: md5
      md5: c49b12c1c14ce21cbfd2ef4882ce62c7
      size: 1841
    - path: data/prepared/y_train.pkl
      hash: md5
      md5: 42f9a4911ba30d4e4814c93c86d647c2
      size: 1450
    - path: src/train.py
      hash: md5
      md5: a775c0d695cefdc5907d2e3cc09631b1
      size: 1009
    params:
      params.yaml:
        base:
          project: startups
          data_dir: data
          file_path: 50_Startups.csv
          cat_columns:
          - State
          num_columns:
          - R&D Spend
          - Administration
          - Marketing Spend
          target_column: Profit
          model_dir: models
          model_name: startups_model2.pkl
    outs:
    - path: models/startups_model2.pkl
      hash: md5
      md5: 9dcb6dd6b6e2e6b1714cecd1903b1cb9
      size: 6100
  evaluate:
    cmd: python src/evaluate.py --config=params.yaml
    deps:
    - path: data/prepared/X_test.pkl
      hash: md5
      md5: 0c31ebf76a2a5f4b63fad6e3bb65457e
      size: 1201
    - path: data/prepared/y_test.pkl
      hash: md5
      md5: 625b98f83a4d10c169338eb897b02288
      size: 970
    - path: models/startups_model2.pkl
      hash: md5
      md5: 9dcb6dd6b6e2e6b1714cecd1903b1cb9
      size: 6100
    - path: src/evaluate.py
      hash: md5
      md5: 7b6ab52287c53217922056dd95e865d0
      size: 1014
    outs:
    - path: metrics.json
      hash: md5
      md5: f1f14a6c7ab5bad47cf988109b43741b
      size: 32
