schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py data/50_Startups.csv
    deps:
    - path: data/50_Startups.csv
      hash: md5
      md5: 42b7f80d7a8d5591be8c9aa7c0022917
      size: 2386
    - path: src/prepare.py
      hash: md5
      md5: 8214d0f8e1cc85a906fd4496c38e4e88
      size: 1001
    params:
      params.yaml:
        base:
          project: startups
          data_dir: data
          file_path: 50_Startups.csv
          cat_columns:
          - State
          num_columns:
          - R&D Spend
          - Administration
          - Marketing Spend
          target_column: Profit
          model_dir: models
          model_name: startups_model2.pkl
        prepare.seed: 20170428
        prepare.split: 0.2
    outs:
    - path: data/prepared
      hash: md5
      md5: 20257f3b07833a8fd67c71ebcf566357.dir
      size: 5462
      nfiles: 4
  train:
    cmd: python src/train.py --config=params.yaml
    deps:
    - path: data/prepared/X_train.pkl
      hash: md5
      md5: 1f6e022c83e562312477b407c594ae7b
      size: 2001
    - path: data/prepared/y_train.pkl
      hash: md5
      md5: 29153521356907d5081bb2ca5b2a4105
      size: 1570
    - path: src/train.py
      hash: md5
      md5: a775c0d695cefdc5907d2e3cc09631b1
      size: 1009
    params:
      params.yaml:
        base:
          project: startups
          data_dir: data
          file_path: 50_Startups.csv
          cat_columns:
          - State
          num_columns:
          - R&D Spend
          - Administration
          - Marketing Spend
          target_column: Profit
          model_dir: models
          model_name: startups_model2.pkl
    outs:
    - path: models/startups_model2.pkl
      hash: md5
      md5: 390ec1a32741ff9a1e676dcdb86e2117
      size: 6820
  evaluate:
    cmd: python src/evaluate.py --config=params.yaml
    deps:
    - path: data/prepared/X_test.pkl
      hash: md5
      md5: 31cecc141a9dfe2be699703cc5b093c3
      size: 1041
    - path: data/prepared/y_test.pkl
      hash: md5
      md5: 60e6f9e415a4939e37c5b41feb9e4024
      size: 850
    - path: models/startups_model2.pkl
      hash: md5
      md5: 390ec1a32741ff9a1e676dcdb86e2117
      size: 6820
    - path: src/evaluate.py
      hash: md5
      md5: fe6bcafc7eeb1687e2c6f3c027bd954a
      size: 1391
    outs:
    - path: eval_plots/plot.png
      hash: md5
      md5: 2f518661124fc71d157d725674c6e01c
      size: 22786
    - path: metrics.json
      hash: md5
      md5: 37ed27b7108b823e3c459a5c5b248f3f
      size: 32
